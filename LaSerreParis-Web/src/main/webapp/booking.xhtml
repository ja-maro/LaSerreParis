<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui">

<ui:composition template="/arch.xhtml">
	<ui:define name="head">
		<title>Réservation</title>
	</ui:define>

	<ui:define name="content">
		<div class="body-container flex-column-nowrap align-items-center"
			style="height: auto; min-height: 0;">

			<h1>Réservations</h1>
		

			<b:form id="bookingForm">
			<div class="flex-row-wrap">
			
				<ui:repeat var="day" value="#{mbRestaurant.currentSevenDays}">

					<div class="flex-column-nowrap" style="margin: 1rem;">
					<p> #{day.dayOfWeek.name()}
					<br/>#{day}</p>
						<ui:repeat var="bTime"
							value="#{mbRestaurant.getBookingTimes(day)}">
							<p style="border-left: solid 1px black;">
								#{bTime.time}
								<b:commandButton look="link" action="#{mbRestaurant.bookSocial(day, bTime)}"
									rendered="#{mbRestaurant.isBookingPossibleSocial(day, bTime)}" >
									<b:iconAwesome value="comment" size="4x" /></b:commandButton>
								<b:iconAwesome value="comment" size="3x" style="color:grey;" 
								rendered="#{!mbRestaurant.isBookingPossibleSocial(day, bTime)}" />
								<b:iconAwesome value="cutlery" size="3x" style="color:grey;" 
								rendered="true" />
							</p>
						</ui:repeat>
					</div>
				</ui:repeat>
				
			</div>
			</b:form>
			<b:button look="success" href="#{request.contextPath}/restaurant.xhtml" value="Retour"/>
		</div>
	</ui:define>
</ui:composition>

</html>